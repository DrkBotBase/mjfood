<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= typeof title !== 'undefined' ? title : 'Menú Interactivo' %></title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="<%= typeof pwaThemeColor !== 'undefined' ? pwaThemeColor : '#10B981' %>">
    <meta name="description" content="<%= typeof pwaDescription !== 'undefined' ? pwaDescription : 'Menú digital interactivo' %>">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="<%= typeof pwaShortName !== 'undefined' ? pwaShortName : 'Menú' %>">
    
    <link rel="manifest" href="<%= typeof manifestUrl !== 'undefined' ? manifestUrl : '/manifest.json' %>">
    <link rel="icon" href="/assets/icons/icon-192x192.png">
    <link rel="apple-touch-icon" href="/assets/icons/icon-192x192.png">
    
    <!-- NUEVO: Carga de fuentes dinámicas -->
    <% if (typeof fuentes !== 'undefined' && fuentes) { %>
        <% if (fuentes.primaria && fuentes.primaria.url) { %>
            <link href="<%= fuentes.primaria.url %>" rel="stylesheet">
        <% } %>
        <% if (fuentes.secundaria && fuentes.secundaria.url) { %>
            <link href="<%= fuentes.secundaria.url %>" rel="stylesheet">
        <% } %>
    <% } %>
    
    <% if (typeof styles !== 'undefined' && styles) { %>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&display=swap" rel="stylesheet">
    <!-- Estilos personalizados -->
    <style>
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out, padding 0.3s ease-in-out;
        }
        .modal {
            transition: opacity 0.25s ease;
        }
        .modal-content {
            transition: transform 0.25s ease;
        }
        
        /* Scrollbar personalizado */
        #cart-items::-webkit-scrollbar {
            width: 6px;
        }
        #cart-items::-webkit-scrollbar-track {
            background: #374151;
            border-radius: 3px;
        }
        #cart-items::-webkit-scrollbar-thumb {
            background: #4B5563;
            border-radius: 3px;
        }
        #cart-items::-webkit-scrollbar-thumb:hover {
            background: #6B7280;
        }
        
        /* PWA Install Prompt */
        .pwa-install-prompt {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: white;
            color: black;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            display: none;
        }
    </style>
    <% } %>
</head>