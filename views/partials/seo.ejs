<%
  const direccion = (locals.config && config.direccion) || 'La Playa, Eduardo Santos, Barranquilla, 080001';
  const partes = direccion.split(', ');
  
  const streetAddress = partes[0];
  const addressLocality = partes.slice(1, -1).join(', ');
  const postalCode = partes[partes.length - 1];
  
  let nombreFinal = (locals.config && config.nombre) || (locals.info && info.name_page) || 'MJ Food';
%>

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "<%= (locals.config && config.extension) ? 'Restaurant' : 'WebSite' %>",
  "name": "<%= nombreFinal %>",
  "image": "https://mjfood.top<%= (locals.config && config.logoUrl) || '/assets/banner.png' %>",
  "url": "https://mjfood.top/<%= (locals.config && config.extension) || '' %>",
  <% if (locals.config && config.extension) { %>
  "priceRange": "$$", 
  "telephone": "+<%= config.telefonoWhatsApp %>", 
  "servesCuisine": "<%= (locals.config.pwa && config.pwa.categories.join(', ')) || 'Restaurante' %>",
  <% } %>
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "<%= streetAddress %>",
    "addressLocality": "<%= addressLocality %>",
    "postalCode": "<%= postalCode %>",
    "addressCountry": "CO"
  },
  "menu": "https://mjfood.top/<%= (locals.config && config.extension) || '' %>",
  "publisher": {
    "@type": "Organization",
    "name": "MJ Food",
    "logo": {
      "@type": "ImageObject",
      "url": "https://mjfood.top/assets/banner.png"
    }
  }
}
</script>
